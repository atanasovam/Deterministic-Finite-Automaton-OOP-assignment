# НОВ БЪЛГАРСКИ УНИВЕРСИТЕТ- Департамент Информатика

## Проект покрайни автомати към курс CSCB209 Обектно-ориентирано програмиране

### Въведение

Детерминираният краен автомат се дефинира формално като наредена петорка(Q,Σ, δ, q 0 , F),
където

1. Qе крайно множество отсъстояния,
2. Σеазбука, с която работи автомата;
3. δ:Q×Σ→Qефункция на преходите;
4. q 0 ∈Qеначално състояние;
5. F⊆Qе множество отфинални състояния.

# Постановка на задачата

Да се напише програма на С++, която реализира функционалностДетерминиран краен
автомат (Determinate Finite Automaton), наричан за кратко автомат, чрез класове и
наследяване. Тъй като азбуката може да бъде както символна,така и числова, то да се
реализира следната йерархия:

```
DeterminateFiniteAutomaton
```
```
DeterminateFiniteAutomatonInt DeterminateFiniteAutomatonChar
```
DeterminateFiniteAutomatonда е абстрактен клас, който е базов за йерархията и не съ-
държа азбука, като елемент от автомата. КласътDeterminateFiniteAutomatonда се разшири
от класDeterminateFiniteAutomatonInt, който има член-данна динамичен масив от целочис-
лени стойности и класDeterminateFiniteAutomatonChar, който има член-данна динамичен
масив от символи.

## Състояния

Един от елементите на автомат е множеството от състоянияQ. Всяко състояние се
реализира със съответен клас (State), който има член-данна - символен низ за име на със-
тоянието. За всеки автомат знаем броя на състоянията, чрез които се описва, както и самите
състояния. За програмната реализация на състоянията в класаDeterminateFiniteAutomaton
е необходимо да имаме една член-данна за брой състояния и една член-данна динамичен
масив от обекти от класаState.
Всеки автомат има поне едно начално състояние и нула или повече крайни състояния.
Когато описваме един автомат, по име на състоянието трябва да можем да укажем дали е
началното и дали е крайно. Началното състояние може да съвпада с крайно състояние на
автомата. В случай, че едно състояние на автомата е маркирано като начално е необходимо
при опит да се маркира второ състояние за начално да се изхвърля и обработва изключение
от потребителски дефиниран класAutomatonException. Той наследява стандартния клас
за изключения и предоставя механизми за описание на ред от кода, който предизвиква
грешката, както и име на състоянието, което се опитваме да направим начално и име на
състоянието, което вече е маркирано като начално.
Автоматът трябва да има член-функция, която ясно показва напотребителя текущото
начално състояние и позволява то да се смени, като се размаркира като начално, а на негово
място потребителят посочва ново начално състояние.

## Азбука

Всеки автомат работи с определена азбукаΣ. Тъй като автоматът е деклариран като
шаблонен клас, то трябва да има възможност да реализираме автомати с различен тип на
елементите на неговата азбука. Автоматът може да работи както със символно множес-
тво на азбуката си, така и с числово. Типа на елементите на азбуката, трябва да може
да се дефинира в момента, в който създаваме обект от класаDeterminateFiniteAutomaton.
Автоматът трябва да знае колко елемента има неговата азбука, от какъв тип са те и потре-
бителят да има възможност при създаването на автомат да специфицира самите стойности
на елементите от множеството на азбуката.

## Функция на преходите

Друг елемент от автомата е т.нар.Transition tableилиδ(функция на преходите). Тази
таблица представлява двумерен динамичен масив от състояния, като на база на броя на
елементите на азбуката на автомата можем да определим колкоколони има таблицата, а
на база на броя на елементите на множеството от състояния, можем да определим броя на
редовете в таблицата. Номерата на клетките ще се определят,чрез номерата на съответното
състояние в масива на състоянията и номерата на елементите от азбуката в масива на
азбуката.

## Финални състояния

Потребителят трябва да има възможност да определи и множеството на финалните
състояния, като това множество може да бъде и празно. Отновопредварително се задава
броя на финалните състояния, след което потребителят въвежда кои състояния ще бъдат
финални. Проверката, която трябва да се направи тук, както ипри маркирането на начално
състояние е дали изобщо автоматът има заявеното от потребителя състояние. При липса


на такова състояние в автомата, то трябва да се изхвърля и обработва грешка от тип
AutomatonStateException, който е потребителски дефиниран клас и разширява стандартния
клас на С++ за изключения. При настъпването на изключение оттози вид, да се съобщава
номера на реда от кода предизвикал изключението, както и обекта, който търсим, а не е
намерен.
В програмата предварително трябва да има деклариран указател към обект от базовия
клас за автоматDeterminateFiniteAutomaton.

# Създаване и отпечатване на автомати

Всеки автомат трябва да може да се създаде и отпечата/съхрани. Създаването на ав-
томат може да се извърши по два начина:

1. Въвеждане на всички елементи от конзолата;
2. Четене на данни за автомат от файл.

При въвеждане на автомат от конзолата, трябва да сме предефинирали оператора за
побитово изместване на дясно (>>), като потребителят преминава през следния приме-
рен диалог за въвеждане на стойности (с подчертан шрифт са стойностите, въвеждани от
потребителя):

1. Въвеждане на тип на азбуката в автомата (1 - цяло число, 2 – символен тип): 1
    /⋆при избор на стойност 1, към указателя от тип абстрактен автомат се прик-
    репя обект от тип DeterminateFiniteAutomatonInt. При избор на стойност 2, ще се
    инициализира указателят с обект от тип DeterminateFiniteAutomatonChar⋆/
2. Моля въведете брой състоянията: 2
3. Моля въведете състояние номер [1]:q
4. Моля въведете състояние номер [2]:q
    /⋆колкото e броят на състоянията, въведен от ред 2, толкова на брой състояния е
    необходимо да се въведат впоследствие.⋆/
5. Моля въведете брой символи в азбуката на автомата: 2
6. Моля въведете символ номер [1]: 0
7. Моля въведете символ номер [2]: 1
    /⋆колкото е броят на символите в азбуката, въведен от ред 5, толкова на брой
    символи на азбуката е необходимо да се въведат впоследствие.⋆/
8. Моля въведете (q0, 0)->q
9. Моля въведете (q0, 1)->q
10. Моля въведете (q1, 0)->q


11. Моля въведете (q1, 1)->q
    /⋆на база на броя състоянияN и броя елементи на азбуката , ще се изисква от
    потребителя да се въведе Transition table сN×Mелемента. В нашия пример имаме
    2 състояния и 2 елемента на азбуката, следователно 4 елемента в таблицата с
    преходите, където за всяко състояние и символ се указва към кое състояние води⋆/
12. Моля въведете начално състояние:q
13. Моля въведете брой крайни състояния: 1
14. Моля въведете крайно състояние номер [1]:q
    /⋆ колкото е броят на крайните състояния, въведен от ред 13, толкова на брой
    състояния е необходимо да се въведат впоследствие⋆/

Въвеждане на автомат от текстов файл е аналогично на въвеждането му от конзола с
тази разлика, че се извършва едностъпково - без интеракция спотребителя.

```
Пример: 1
2 q0 q
2 0 1
q0 q
q1 q
q
1 q
```
На първия ред във файла е даден типът на елементите на азбуката на автомата (1-
числов, 2 – символен), вторият ред започва с число и то определя броя на състоянията,
а след него са изброени самите състояния, третият ред започва с число и определя броя
на елементите в азбуката, а след него следват изброени самите елементи, следват 2 реда
(определя се от броя на състоянията), в които са дадени елементите на Transition table,
след което на следващ ред е дадено началното състояние, а на последен ред във файла е
даден броя на крайните състояния, следван от списък с крайнисъстояния.
Четенето от текстов файл отново да става чрез предефиниран оператор>>, чиито ляв
аргумент е необходимо да бъде файлов поток, а десен - автомат.

# Операции с автомати

Да се предефинира и оператора за вмъкване в изходен поток (<<), така че да е въз-
можно отпечатване на автомат както в конзолата, така и в текстов файл.
Всеки автомат трябва да има възможност даразпознаваили съответно данеразпознава
дадена дума.
С детерминирани крайни автомати може да се извършват следните операции: обедине-
ние, сечение и допълнение. За да се реализират посочените операции е необходимо да се
използва предефиниране на операциите&за сечение,|за обединение иˆза допълнение.
Като резултат от горните операции е необходимо да се получи нов автомат.
За всички класове да бъде реализирано правилото на големитепет. Нямате право за
използвате string обекти, освен ако не напишете свой собствен потребителски дефиниран
такъв клас и да ползвате него. Можете да ползвате шаблони.


# В допълнение

- Автоматът може да се дефинира като шаблонен клас, като се параметризира типа на
    елементите в азбуката му.
- Йерархията може да бъде разширена с реализацията на клас за недетерминиран краен
    автомат.
